# FRKassa - Setup Guide

## Quick Start

### Prerequisites

- **Flutter SDK**: 3.10.1 or higher
- **Dart SDK**: 3.10.1 or higher
- **Android Studio** (for Android development)
- **Xcode** (for iOS development on macOS)

### Initial Setup

1. **Navigate to project directory:**
   ```bash
   cd FRKassa
   ```

2. **Get Flutter dependencies:**
   ```bash
   flutter clean
   flutter pub get
   ```

3. **Run the app:**
   ```bash
   flutter run
   ```

## Configuration

### Backend URL

The app uses a configurable backend URL. By default, it connects to `http://localhost:5000`.

#### Development (localhost)
```bash
flutter run
```

#### Staging/Production
```bash
flutter run --dart-define=API_URL=https://api.yourdomain.com
```

### QR Code Format

Ensure QR codes generated by FRKassa (Cashier interface) follow this format:

```
ProductName|YYYY-MM-DD|OptionalInfo
```

**Examples:**
- `Apple|2025-12-20|Red Delicious`
- `Milk|2025-12-10|Full Fat 1L`
- `Bread|2025-12-08|Whole Wheat`

## Building for Different Platforms

### Android

**Debug Build:**
```bash
flutter build apk
```

**Release Build:**
```bash
flutter build apk --release --dart-define=API_URL=https://api.yourdomain.com
```

**App Bundle (for Google Play):**
```bash
flutter build appbundle --release --dart-define=API_URL=https://api.yourdomain.com
```

### iOS

**Debug Build:**
```bash
flutter build ios
```

**Release Build:**
```bash
flutter build ios --release --dart-define=API_URL=https://api.yourdomain.com
```

### Web

```bash
flutter build web --dart-define=API_URL=https://api.yourdomain.com
```

### Windows

```bash
flutter build windows --dart-define=API_URL=https://api.yourdomain.com
```

### macOS

```bash
flutter build macos --dart-define=API_URL=https://api.yourdomain.com
```

### Linux

```bash
flutter build linux --dart-define=API_URL=https://api.yourdomain.com
```

## Development Workflow

### Enable Hot Reload

While running the app:
- Press `r` in terminal to hot reload
- Press `R` for hot restart
- Press `q` to quit

### View Logs

```bash
flutter logs
```

### Run with Verbose Output

```bash
flutter run -v
```

## Testing

### Unit Tests

```bash
flutter test
```

### Widget Tests

```bash
flutter test test/widget_test.dart
```

## Troubleshooting

### Common Issues

1. **Camera Permission Denied**
   - Grant camera permissions in app settings
   - Check `AndroidManifest.xml` for permissions

2. **QR Code Not Scanning**
   - Ensure QR code format is correct
   - Try adjusting lighting
   - Clean camera lens

3. **Cannot Connect to Backend**
   - Verify backend is running
   - Check API_URL configuration
   - Ensure network connectivity

4. **Flutter Doctor Issues**
   ```bash
   flutter doctor -v
   flutter pub get
   flutter clean
   ```

## Project Structure

```
FRKassa/
├── lib/
│   ├── main.dart                 # App entry point
│   ├── config/
│   │   └── api_config.dart      # API configuration
│   ├── models/
│   │   └── scanned_product.dart # Product data model
│   ├── providers/
│   │   ├── cloud_cart_provider.dart  # Cart state management
│   │   └── scanner_provider.dart     # Scanner state management
│   ├── screens/
│   │   ├── main_navigation_screen.dart
│   │   ├── scanner_screen.dart
│   │   └── cart_overview_screen.dart
│   └── widgets/
│       ├── product_list_item.dart
│       └── scan_error_dialog.dart
├── test/
│   └── widget_test.dart
├── web/
│   ├── index.html
│   └── manifest.json
├── android/
├── ios/
├── windows/
├── linux/
├── macos/
├── pubspec.yaml
└── README.md
```

## Development Dependencies

- **flutter_test**: Testing framework
- **flutter_lints**: Linting rules

## Production Deployment

### Android Play Store

1. Build signed app bundle:
   ```bash
   flutter build appbundle --release --dart-define=API_URL=https://api.yourdomain.com
   ```

2. Upload to Google Play Console

### iOS App Store

1. Build iOS release:
   ```bash
   flutter build ios --release --dart-define=API_URL=https://api.yourdomain.com
   ```

2. Archive and submit to App Store Connect

## Support

For issues or questions, refer to the main README.md or contact the development team.
